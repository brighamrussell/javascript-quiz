<!DOCTYPE html>
<html>
<head>
  <title>Website Escalation Form</title>
  <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1' />  
  <link rel='stylesheet' type='text/css' href='quiz.css' />
</head>
<body onload="pulljson();">

<div id='idPAGE'></div>
<div id='idQUESTION'></div>
<form id='idQUIZ' name='quiz' class='form-style' >
<div class='rad'><input type='radio' id="idAA" name='r' value='A' onclick="radi(this.value)"/><a id='idA'></a></div>
<div class='rad'><input type='radio' id="idBB" name='r' value='B' onclick="radi(this.value)"/><a id='idB'></a></div>
<div class='rad'><input type='radio' id="idCC" name='r' value='C' onclick="radi(this.value)"/><a id='idC'></a></div>
<div class='rad'><input type='radio' id="idDD" name='r' value='D' onclick="radi(this.value)"/><a id='idD'></a></div>
<div class='rad'><input type='radio' id="idEE" name='r' value='E' onclick="radi(this.value)"/><a id='idE'></a></div>
</form>
</div>

<div id='idANSWERS'></div>
<div id='idRESULT'></div>
<div id='idJSON'></div>
<script>
var quiz = {
  Json: [],
  url: 'SysOps.json',
  request: new XMLHttpRequest(),
  Questions: [],
  ANSa: [],
  ANSb: [],
  ANSc: [],
  ANSd: [],
  ANSe: [],
  ANSkey: [],
  Page: 0,
  Answers: [],
  answered: [],
  Score: 0,
  iQUIZ: document.getElementById("idQUIZ"),
  iSTART: document.getElementById("idSTART"),
  iNEXT: document.getElementById("idNEXT"),
  iPAGE: document.getElementById("idPAGE"),  
  iQUESTION: document.getElementById("idQUESTION"),
  iA: document.getElementById("idA"),
  iB: document.getElementById("idB"),
  iC: document.getElementById("idC"),
  iD: document.getElementById("idD"),
  iE: document.getElementById("idE"),
  iAA: document.getElementById("idAA"),
  iBB: document.getElementById("idBB"),
  iCC: document.getElementById("idCC"),
  iDD: document.getElementById("idDD"),
  iEE: document.getElementById("idEE"),
  iANSWERS: document.getElementById("idANSWERS"),
  iRESULT: document.getElementById("idRESULT"),
  iJSON: document.getElementById("idJSON")
};

quiz.request.open('GET', quiz.url, true); 
function pulljson() { 
if (quiz.request.status === 200) {
  quiz.Json = JSON.parse(quiz.request.responseText); 
  for(var i=0;i<quiz.Json.length;i++){
    quiz.Questions.push(quiz.Json[i].question);
    quiz.ANSa.push(quiz.Json[i].answers.A);
    quiz.ANSb.push(quiz.Json[i].answers.B);
    quiz.ANSc.push(quiz.Json[i].answers.C);
    quiz.ANSd.push(quiz.Json[i].answers.D);
    quiz.ANSe.push(quiz.Json[i].answers.E);
    quiz.ANSkey.push(quiz.Json[i].correctAnswer);}
  } else {quiz.request.onerror = function() {
console.error('An error occurred fetching the JSON from ' + quiz.url);
}
}
 console.log('Questions ' + quiz.Questions + "\n");
 console.log('ANSa ' + quiz.ANSa + "\n");
 console.log('ANSb ' + quiz.ANSb + "\n");
 console.log('ANSc ' + quiz.ANSc + "\n");
 console.log('ANSd ' + quiz.ANSd + "\n");
 console.log('ANSe ' + quiz.ANSe + "\n");
 console.log('ANSkey ' + quiz.ANSkey + "\n");
pg=0;
pagenumber();
}

function pagenumber(){
 quiz.iAA.checked = false;
 quiz.iBB.checked = false;
 quiz.iCC.checked = false;
 quiz.iDD.checked = false;
 quiz.iEE.checked = false;
 quiz.iPAGE.innerHTML=pg;
 quiz.iQUESTION.innerHTML=quiz.Questions[pg];
 quiz.iA.innerHTML=quiz.ANSa[pg];
 quiz.iB.innerHTML=quiz.ANSb[pg];
 quiz.iC.innerHTML=quiz.ANSc[pg];
 quiz.iD.innerHTML=quiz.ANSd[pg];
 quiz.iE.innerHTML=quiz.ANSe[pg];
}
var ANSWEREDS=[];
function radi(FA){
console.log('clicked ' + FA );
console.log('Answer is ' + quiz.ANSkey[pg] );
if(FA==quiz.ANSkey[pg]) {
 ANSWEREDS.push("Correct");
 console.log(ANSWEREDS);
} else {
 ANSWEREDS.push("Wrong");
 console.log(ANSWEREDS);
}
pg++;
console.log('Page: ' + pg);


pagenumber();
//quiz.iANSWERS.innerHTML=quiz.Answers;
}

quiz.request.send();
var pg=0;
</script>
</body>
</html>
